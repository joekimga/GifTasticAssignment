<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="utf-8">
	<title>GifTastic</title>
</head>
<body>
	
	<!--buttons-->
	<button data-person="Fat Bastard">Get in my Belly!</button>
	<button data-person="Dave Chappell">I'm Rich Bitch!</button>
	<button data-person="Bill Clinton">I did not have sexual relations with that woman.</button>
	<button data-person="Milton">Um, excuse me.  I belive you have my stapler</button>
	<button data-person="Rose">Draw me like one of your french girls.</button>
	<button data-person="Homer Simpson">Doh!</button>	
	<button data-person="Sir Mix a Lot">I like big butts</button>
	<button data-person="Giorgio Tsoukalos">Aliens</button>
	<button data-person="Marie Antoinette">Let them eat cake.</button>
	<button data-person="ET">ET phone home</button>			

	<!--div where the gifs are shown-->
	<div id="gifs-go-here">
	</div>

	<!--jquery cdn-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<script type="text/javascript">
		
		//Event for buttons
		$("button").on("click", function() {
			//this refers to button
			var person = $(this).attr("data-person");

			//URL for Giphy, search quote
			var queryURL = "https://api.giphy.com/v1/gifs/search?q=" + person + "&api_key=dc6zaTOxFJmzC&limit=10";

			//ajax get request
			$.ajax({
				url: queryURL,
				method: "GET"
			})

			//after data is returned form api
			.done(function(response) {
				//storying array in results varible
				var results = response.data;

				//for loop
				for (var i = 0; i < results.length; i++) {

					//only post photos with appropriate rating
					if (results[i].rating !== "pg-13" && results[i].rating !=="r") {

						//create div with class item
						var gifDiv = $("<div class='item'>");

						//store result rating
						var rating = results[i].rating;

						//create paragraph with the result item's rating
						var p = $("<p>").text("Rating: " + rating);


						//create image tag
						var personImage = $("<img>");

						//image tag src attribute from result item
						personImage.attr("src", results[i].images.fixed_height.url);

						//append the paragraph and personImage to "gifDiv"
						gifDiv.append(p);
						gifDiv.append(personImage);

						//Prepend gifDIv to the "#gifs-go-here"
						$("#gifs-go-here").prepend(gifDiv);


						//pause gif
						$(".gif").on("click", function() {
							//attr jquery method set salue of attribute on html
							var state = $(this).attr("data-state");

							if (state === "still") {
								$(this).attr("src", $(this).attr("data-animate"));
								$(this).attr("data-state", "animate");
							} else {
								$(this).attr("src", $(this).attr("data-still"));
								$(this).attr("data-state", "still");
							}



						});



					} 


				}

			});





		});









		
	</script>





</body>
</html>